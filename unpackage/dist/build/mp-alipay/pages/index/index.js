(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/index/index"],{"1d88":function(e,t,n){"use strict";n.r(t);var i=n("22dc"),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},"22dc":function(e,t,n){"use strict";(function(e,i){var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("7eb4")),c=o(n("ee10")),a=o(n("7ca3"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={components:{uniPopup:function(){n.e("node-modules/npm-scope-dcloudio/uni-ui/lib/uni-popup/uni-popup").then(function(){return resolve(n("bd26"))}.bind(null,n)).catch(n.oe)},uniPopupDialog:function(){Promise.all([n.e("common/vendor"),n.e("node-modules/npm-scope-dcloudio/uni-ui/lib/uni-popup-dialog/uni-popup-dialog")]).then(function(){return resolve(n("2e2b"))}.bind(null,n)).catch(n.oe)}},data:function(){return{timers:[],activeCategory:0,categories:["所有","肉类","蔬菜","海鲜"],items:[{name:"嫩牛肉",time:15,icon:"/static/beef.png",category:1},{name:"羊肉卷",time:20,icon:"/static/lamb.png",category:1},{name:"金针菇",time:30,icon:"/static/mushroom.png",category:2},{name:"虾滑",time:25,icon:"/static/shrimp.png",category:3}],editIndex:null,editTimeValue:"",newFoodName:"",newFoodTime:""}},computed:{filteredItems:function(){var e=this;return 0===this.activeCategory?this.items:this.items.filter((function(t){return t.category===e.activeCategory}))}},onLoad:function(){},methods:{startTimer:function(e){var t=this,n=s(s({},e),{},{time:e.time,timer:setInterval((function(){n.time>0?n.time--:(clearInterval(n.timer),t.timers=t.timers.filter((function(e){return e!==n})))}),1e3)});this.timers.push(n)},stopTimer:function(e){clearInterval(this.timers[e].timer),this.timers.splice(e,1)},changeCategory:function(e){this.activeCategory=e},addCategory:function(){this.$refs.categoryPopup.open()},confirmAddCategory:function(t){t?this.categories.includes(t)?e.showToast({title:"该分类已存在",icon:"none"}):(this.categories.push(t),this.activeCategory=this.categories.length-1,e.showToast({title:"添加成功",icon:"success"})):e.showToast({title:"分类名称不能为空",icon:"none"})},addFood:function(){this.newFoodName="",this.newFoodTime="",this.$refs.foodPopup.open()},confirmAddFoodName:function(t){t?(this.newFoodName=t,this.$refs.timePopup.open()):e.showToast({title:"食材名称不能为空",icon:"none"})},confirmAddFoodTime:function(t){if(isNaN(t)||t<=0)e.showToast({title:"请输入有效的时间",icon:"none"});else{var n={name:this.newFoodName,time:parseInt(t),icon:"/static/default.png",category:this.activeCategory};this.items.push(n),e.showToast({title:"添加成功",icon:"success"})}},formatTime:function(e){var t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)},editTime:function(e){this.editIndex=e,this.editTimeValue=this.items[e].time,this.$refs.popup.open()},confirmEditTime:function(t){isNaN(t)||t<=0?e.showToast({title:"请输入有效的时间",icon:"none"}):(this.items[this.editIndex].time=parseInt(t),this.$refs.popup.close())},goToSettings:function(){e.navigateTo({url:"/pages/settings/index"})},saveCustomTime:function(t,n){return(0,c.default)(r.default.mark((function o(){var c,a,u;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(c=e.getStorageSync("userId"),a=e.getStorageSync("userInfo"),!c||!a){o.next=7;break}return o.next=5,i.callFunction({name:"save-custom-times",data:{userId:c,name:a.nickName,phone:a.mobile,items:[{name:t,time:n}]}});case 5:u=o.sent,200===u.result.code?e.showToast({title:"保存成功",icon:"success"}):e.showToast({title:"保存失败",icon:"none"});case 7:case"end":return o.stop()}}),o)})))()}}};t.default=l}).call(this,n("6861")["default"],n("861b")["uniCloud"])},6171:function(e,t,n){},"66ca":function(e,t,n){"use strict";var i=n("6171"),o=n.n(i);o.a},"9abf":function(e,t,n){"use strict";(function(e){var t=n("47a9");n("16e9"),n("861b");t(n("3240"));var i=t(n("cbac"));my.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("6861")["createPage"])},a082:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uniPopup:function(){return n.e("node-modules/npm-scope-dcloudio/uni-ui/lib/uni-popup/uni-popup").then(n.bind(null,"bd26"))},uniPopupDialog:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/npm-scope-dcloudio/uni-ui/lib/uni-popup-dialog/uni-popup-dialog")]).then(n.bind(null,"2e2b"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.timers.length>0?e.__map(e.timers,(function(t,n){var i=e.__get_orig(t),o=e.formatTime(t.time);return{$orig:i,m0:o}})):null);e.$mp.data=Object.assign({},{$root:{l0:n}})},r=[]},cbac:function(e,t,n){"use strict";n.r(t);var i=n("a082"),o=n("1d88");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("66ca");var c=n("828b"),a=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=a.exports}},[["9abf","common/runtime","common/vendor"]]]);