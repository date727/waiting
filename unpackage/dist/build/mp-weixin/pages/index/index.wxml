<view class="container"><scroll-view class="timer-section" scroll-y="{{true}}"><view class="timer-box"><block wx:if="{{$root.g0>0}}"><view class="timers-list"><block wx:for="{{$root.l0}}" wx:for-item="timer" wx:for-index="index" wx:key="index"><view class="timer-area"><view class="timer-content"><view class="ringtone-container"><button data-event-opts="{{[['tap',[['toggleRingtone',[index]]]]]}}" class="ringtone-btn" bindtap="__e"><image class="ringtone-icon" src="{{timer.$orig.ringtoneEnabled?'/static/images/bell-active.png':'/static/images/bell-inactive.png'}}" mode="aspectFit"></image></button></view><view class="timer-info"><text class="timer-name">{{timer.$orig.name}}</text><text class="timer-countdown">{{timer.m0}}</text></view></view><view class="timer-actions"><button data-event-opts="{{[['tap',[['stopTimer',[index]]]]]}}" class="close-btn" bindtap="__e">×</button></view></view></block></view></block><block wx:else><view class="empty-timer"><text>下点东西778~</text></view></block></view></scroll-view><view class="food-section"><scroll-view class="category-nav" scroll-x="{{true}}"><block wx:for="{{categories}}" wx:for-item="category" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeCategory',[index]]]]]}}" class="{{['category-item',activeCategory===index?'active':'']}}" bindtap="__e">{{''+category+''}}</view></block><view data-event-opts="{{[['tap',[['addCategory',['$event']]]]]}}" class="add-category" bindtap="__e">+ 添加</view></scroll-view><scroll-view class="food-list" scroll-y="{{true}}"><block wx:for="{{filteredItems}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['startTimer',['$0'],[[['filteredItems','',index]]]]]]]}}" class="food-card" bindtap="__e"><text class="food-name">{{item.name}}</text><text class="food-time">{{item.time+" 秒"}}</text><button data-event-opts="{{[['tap',[['editTime',[index]]]]]}}" class="edit-btn" catchtap="__e">编辑</button></view></block></scroll-view><button data-event-opts="{{[['tap',[['addFood',['$event']]]]]}}" class="add-btn" bindtap="__e">+ 添加食材</button></view><view class="bottom-nav"><view class="nav-item active">Timer</view><view data-event-opts="{{[['tap',[['goToSettings',['$event']]]]]}}" class="nav-item" bindtap="__e">setting</view></view><uni-popup class="vue-ref" vue-id="8dd740cc-1" type="dialog" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('8dd740cc-2')+','+('8dd740cc-1')}}" mode="input" title="设置涮煮时间" value="{{editTimeValue}}" placeholder="请输入时间（秒）" data-event-opts="{{[['^confirm',[['confirmEditTime']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="8dd740cc-3" type="dialog" data-ref="categoryPopup" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('8dd740cc-4')+','+('8dd740cc-3')}}" mode="input" title="添加分类" placeholder="请输入分类名称" data-event-opts="{{[['^confirm',[['confirmAddCategory']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="8dd740cc-5" type="dialog" data-ref="foodPopup" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('8dd740cc-6')+','+('8dd740cc-5')}}" mode="input" title="添加食材" value="{{newFoodName}}" placeholder="请输入食材名称" data-event-opts="{{[['^confirm',[['confirmAddFoodName']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="8dd740cc-7" type="dialog" data-ref="timePopup" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('8dd740cc-8')+','+('8dd740cc-7')}}" mode="input" title="设置时间" value="{{newFoodTime}}" placeholder="请输入时间（秒）" data-event-opts="{{[['^confirm',[['confirmAddFoodTime']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="8dd740cc-9" type="dialog" data-ref="categoryPicker" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content" style="width:90%;max-width:500px;"><text class="popup-title">选择分类</text><picker style="width:100%;height:50px;font-size:16px;" mode="selector" range="{{$root.g1}}" data-event-opts="{{[['change',[['handleCategoryChange',['$event']]]]]}}" bindchange="__e"><view class="picker"><text>{{selectedCategory||'类别'}}</text></view></picker><button data-event-opts="{{[['tap',[['confirmCategory',['$event']]]]]}}" class="confirm-btn" bindtap="__e">确定</button></view></uni-popup></view>